!function(e,t,a,n){var s,l,i,r,o,u,c,f,g,h="mPageScroll2id",d="mPS2id",p=".m_PageScroll2id,a[rel~='m_PageScroll2id'],.page-scroll-to-id,a[rel~='page-scroll-to-id']",I={scrollSpeed:600,autoScrollSpeed:!0,scrollEasing:"easeInOutExpo",scrollingEasing:"easeInOutCirc",pageEndSmoothScroll:!0,layout:"vertical",offset:160,highlightSelector:!1,clickedClass:d+"-clicked",targetClass:d+"-target",highlightClass:d+"-highlight",forceSingleHighlight:!1,clickEvents:!0,onStart:function(){},onComplete:function(){},defaultSelector:!1},_={init:function(n){var n=e.extend(!0,{},I,n);e(a).data(d,n),l=e(a).data(d),s=s?s+","+this.selector:this.selector,l.defaultSelector&&("object"!=typeof e(s)||0===e(s).length)&&(s=p),l.clickEvents&&e(a).undelegate("."+d).delegate(s,"click."+d,function(t){var a=e(this),n=a.attr("href"),s=a.prop("href");n&&-1!==n.indexOf("#/")||(C._reset.call(null),C._isValid.call(null,n,s)&&C._findTarget.call(null,n)&&(t.preventDefault(),r="selector",o=a,C._setClasses.call(null,!0),C._scrollTo.call(null)))}),e(t).unbind("."+d).bind("scroll."+d+" resize."+d,function(){var t=e("._"+d+"-t");t.each(function(){var t=e(this),a=t.attr("id"),n=C._findHighlight.call(null,a);C._setClasses.call(null,!1,t,n)})}),i=!0,C._setup.call(null)},scrollTo:function(t,a){if(t&&"undefined"!=typeof t){C._isInit.call(null);var n={layout:l.layout,offset:l.offset,clicked:!1},a=e.extend(!0,{},n,a);C._reset.call(null),f=a.layout,g=a.offset,t=-1!==t.indexOf("#")?t:"#"+t,C._isValid.call(null,t)&&C._findTarget.call(null,t)&&(r="scrollTo",o=a.clicked,o&&C._setClasses.call(null,!0),C._scrollTo.call(null))}},destroy:function(){e(t).unbind("."+d),e(a).undelegate("."+d).removeData(d),e("."+l.clickedClass).removeClass(l.clickedClass),e("."+l.targetClass).removeClass(l.targetClass),e("."+l.highlightClass).removeClass(l.highlightClass),e("._"+d+"-t").removeData(d).removeClass("_"+d+"-t"),e("._"+d+"-h").removeClass("_"+d+"-h")}},C={_isValid:function(e,a){if(e){a=a?a:e;var n=-1!==a.indexOf("#/")?a.split("#/")[0]:a.split("#")[0],s=t.location.toString().split("#")[0];return"#"!==e&&-1!==e.indexOf("#")&&(""===n||n===s)}},_setup:function(){var t=l.highlightSelector&&""!==l.highlightSelector?l.highlightSelector:s,a=1;return e(t).each(function(){var t=e(this),n=t.attr("href"),s=t.prop("href");if(C._isValid.call(null,n,s)){var l=-1!==n.indexOf("#/")?n.split("#/")[1]:n.split("#")[1],i=e("#"+l);if(i.length>0){i.hasClass("_"+d+"-t")||i.addClass("_"+d+"-t").data(d,{i:a}),t.hasClass("_"+d+"-h")||t.addClass("_"+d+"-h");var r=C._findHighlight.call(null,l);C._setClasses.call(null,!1,i,r),a++}}})},_findTarget:function(t){var a=-1!==t.indexOf("#/")?t.split("#/")[1]:t.split("#")[1],n=e("#"+a);if(n.length<1||"fixed"===n.css("position")){if("top"!==a)return;n=e("body")}return u=n,f||(f=l.layout),g||(g=l.offset?l.offset:60),c=[(n.offset().top-parseInt(g)).toString(),(n.offset().left-parseInt(g)).toString()],c[0]=c[0]<0?0:c[0],c[1]=c[1]<0?0:c[1],c},_findHighlight:function(a){var n=t.location.toString().split("#")[0],s=e("._"+d+"-h[href='#"+a+"']"),l=e("._"+d+"-h[href='"+n+"#"+a+"']"),i=e("._"+d+"-h[href='#/"+a+"']"),r=e("._"+d+"-h[href='"+n+"#/"+a+"']");return s=s.length>0?s:l,i=i.length>0?i:r,i.length>0?i:s},_setClasses:function(t,a,n){var s=l.clickedClass,i=l.targetClass,r=l.highlightClass;t&&s&&""!==s?(e("."+s).removeClass(s),o.addClass(s)):a&&i&&""!==i&&n&&r&&""!==r&&(C._currentTarget.call(null,a)?(l.forceSingleHighlight&&e("."+r).removeClass(r),a.addClass(i),n.addClass(r)):(a.removeClass(i),n.removeClass(r)))},_currentTarget:function(a){var n=l["target_"+a.data(d).i],s=a[0].getBoundingClientRect();if("undefined"!=typeof n){var i=a.offset().top,r=a.offset().left,o=n.from?n.from+i:i,u=n.to?n.to+i:i,c=n.fromX?n.fromX+r:r,f=n.toX?n.toX+r:r;return s.top>=u&&s.top<=o&&s.left>=f&&s.left<=c}var g=e(t).height(),h=e(t).width(),p=a.height(),I=a.width(),_=1+p/g,C=_,O=g>p?_*(g/p):_,S=1+I/h,m=S,v=h>I?S*(h/I):S;return s.top<=g/C&&s.bottom>=g/O&&s.left<=h/m&&s.right>=h/v},_scrollTo:function(){l.scrollSpeed=parseInt(l.scrollSpeed),c=l.pageEndSmoothScroll?C._pageEndSmoothScroll.call(null):c;var a=e("html,body"),n=l.autoScrollSpeed?C._autoScrollSpeed.call(null):l.scrollSpeed,s=a.is(":animated")?l.scrollingEasing:l.scrollEasing,i=e(t).scrollTop(),r=e(t).scrollLeft();switch(f){case"horizontal":r!=c[1]&&(C._callbacks.call(null,"onStart"),a.stop().animate({scrollLeft:c[1]},n,s).promise().then(function(){C._callbacks.call(null,"onComplete")}));break;case"auto":if(i!=c[0]||r!=c[1])if(C._callbacks.call(null,"onStart"),navigator.userAgent.match(/(iPod|iPhone|iPad|Android)/)){var o;a.stop().animate({pageYOffset:c[0],pageXOffset:c[1]},{duration:n,easing:s,step:function(e,a){"pageXOffset"==a.prop?o=e:"pageYOffset"==a.prop&&t.scrollTo(o,e)}}).promise().then(function(){C._callbacks.call(null,"onComplete")})}else a.stop().animate({scrollTop:c[0],scrollLeft:c[1]},n,s).promise().then(function(){C._callbacks.call(null,"onComplete")});break;default:i!=c[0]&&(C._callbacks.call(null,"onStart"),a.stop().animate({scrollTop:c[0]},n,s).promise().then(function(){C._callbacks.call(null,"onComplete")}))}},_pageEndSmoothScroll:function(){var n=e(a).height(),s=e(a).width(),l=e(t).height(),i=e(t).width();return[n-c[0]<l?n-l:c[0],s-c[1]<i?s-i:c[1]]},_autoScrollSpeed:function(){var n=e(t).scrollTop(),s=e(t).scrollLeft(),i=e(a).height(),r=e(a).width(),o=[l.scrollSpeed+l.scrollSpeed*Math.floor(Math.abs(c[0]-n)/i*100)/100,l.scrollSpeed+l.scrollSpeed*Math.floor(Math.abs(c[1]-s)/r*100)/100];return Math.max.apply(Math,o)},_callbacks:function(e){if(l)switch(this[d]={trigger:r,clicked:o,target:u,scrollTo:{y:c[0],x:c[1]}},e){case"onStart":l.onStart.call(null,this[d]);break;case"onComplete":l.onComplete.call(null,this[d])}},_reset:function(){f=g=!1},_isInit:function(){i||_.init.apply(this)},_easing:function(){e.easing.easeInQuad=e.easing.easeInQuad||function(e,t,a,n,s){return n*(t/=s)*t+a},e.easing.easeOutQuad=e.easing.easeOutQuad||function(e,t,a,n,s){return-n*(t/=s)*(t-2)+a},e.easing.easeInOutQuad=e.easing.easeInOutQuad||function(e,t,a,n,s){return(t/=s/2)<1?n/2*t*t+a:-n/2*(--t*(t-2)-1)+a},e.easing.easeInCubic=e.easing.easeInCubic||function(e,t,a,n,s){return n*(t/=s)*t*t+a},e.easing.easeOutCubic=e.easing.easeOutCubic||function(e,t,a,n,s){return n*((t=t/s-1)*t*t+1)+a},e.easing.easeInOutCubic=e.easing.easeInOutCubic||function(e,t,a,n,s){return(t/=s/2)<1?n/2*t*t*t+a:n/2*((t-=2)*t*t+2)+a},e.easing.easeInQuart=e.easing.easeInQuart||function(e,t,a,n,s){return n*(t/=s)*t*t*t+a},e.easing.easeOutQuart=e.easing.easeOutQuart||function(e,t,a,n,s){return-n*((t=t/s-1)*t*t*t-1)+a},e.easing.easeInOutQuart=e.easing.easeInOutQuart||function(e,t,a,n,s){return(t/=s/2)<1?n/2*t*t*t*t+a:-n/2*((t-=2)*t*t*t-2)+a},e.easing.easeInQuint=e.easing.easeInQuint||function(e,t,a,n,s){return n*(t/=s)*t*t*t*t+a},e.easing.easeOutQuint=e.easing.easeOutQuint||function(e,t,a,n,s){return n*((t=t/s-1)*t*t*t*t+1)+a},e.easing.easeInOutQuint=e.easing.easeInOutQuint||function(e,t,a,n,s){return(t/=s/2)<1?n/2*t*t*t*t*t+a:n/2*((t-=2)*t*t*t*t+2)+a},e.easing.easeInExpo=e.easing.easeInExpo||function(e,t,a,n,s){return 0==t?a:n*Math.pow(2,10*(t/s-1))+a},e.easing.easeOutExpo=e.easing.easeOutExpo||function(e,t,a,n,s){return t==s?a+n:n*(-Math.pow(2,-10*t/s)+1)+a},e.easing.easeInOutExpo=e.easing.easeInOutExpo||function(e,t,a,n,s){return 0==t?a:t==s?a+n:(t/=s/2)<1?n/2*Math.pow(2,10*(t-1))+a:n/2*(-Math.pow(2,-10*--t)+2)+a},e.easing.easeInSine=e.easing.easeInSine||function(e,t,a,n,s){return-n*Math.cos(t/s*(Math.PI/2))+n+a},e.easing.easeOutSine=e.easing.easeOutSine||function(e,t,a,n,s){return n*Math.sin(t/s*(Math.PI/2))+a},e.easing.easeInOutSine=e.easing.easeInOutSine||function(e,t,a,n,s){return-n/2*(Math.cos(Math.PI*t/s)-1)+a},e.easing.easeInCirc=e.easing.easeInCirc||function(e,t,a,n,s){return-n*(Math.sqrt(1-(t/=s)*t)-1)+a},e.easing.easeOutCirc=e.easing.easeOutCirc||function(e,t,a,n,s){return n*Math.sqrt(1-(t=t/s-1)*t)+a},e.easing.easeInOutCirc=e.easing.easeInOutCirc||function(e,t,a,n,s){return(t/=s/2)<1?-n/2*(Math.sqrt(1-t*t)-1)+a:n/2*(Math.sqrt(1-(t-=2)*t)+1)+a},e.easing.easeInElastic=e.easing.easeInElastic||function(e,t,a,n,s){var l=1.70158,i=0,r=n;if(0==t)return a;if(1==(t/=s))return a+n;if(i||(i=.3*s),r<Math.abs(n)){r=n;var l=i/4}else var l=i/(2*Math.PI)*Math.asin(n/r);return-(r*Math.pow(2,10*(t-=1))*Math.sin((t*s-l)*(2*Math.PI)/i))+a},e.easing.easeOutElastic=e.easing.easeOutElastic||function(e,t,a,n,s){var l=1.70158,i=0,r=n;if(0==t)return a;if(1==(t/=s))return a+n;if(i||(i=.3*s),r<Math.abs(n)){r=n;var l=i/4}else var l=i/(2*Math.PI)*Math.asin(n/r);return r*Math.pow(2,-10*t)*Math.sin((t*s-l)*(2*Math.PI)/i)+n+a},e.easing.easeInOutElastic=e.easing.easeInOutElastic||function(e,t,a,n,s){var l=1.70158,i=0,r=n;if(0==t)return a;if(2==(t/=s/2))return a+n;if(i||(i=s*(.3*1.5)),r<Math.abs(n)){r=n;var l=i/4}else var l=i/(2*Math.PI)*Math.asin(n/r);return 1>t?-.5*(r*Math.pow(2,10*(t-=1))*Math.sin((t*s-l)*(2*Math.PI)/i))+a:r*Math.pow(2,-10*(t-=1))*Math.sin((t*s-l)*(2*Math.PI)/i)*.5+n+a},e.easing.easeInBack=e.easing.easeInBack||function(e,t,a,s,l,i){return i==n&&(i=1.70158),s*(t/=l)*t*((i+1)*t-i)+a},e.easing.easeOutBack=e.easing.easeOutBack||function(e,t,a,s,l,i){return i==n&&(i=1.70158),s*((t=t/l-1)*t*((i+1)*t+i)+1)+a},e.easing.easeInOutBack=e.easing.easeInOutBack||function(e,t,a,s,l,i){return i==n&&(i=1.70158),(t/=l/2)<1?s/2*(t*t*(((i*=1.525)+1)*t-i))+a:s/2*((t-=2)*t*(((i*=1.525)+1)*t+i)+2)+a},e.easing.easeInBounce=e.easing.easeInBounce||function(t,a,n,s,l){return s-e.easing.easeOutBounce(t,l-a,0,s,l)+n},e.easing.easeOutBounce=e.easing.easeOutBounce||function(e,t,a,n,s){return(t/=s)<1/2.75?n*(7.5625*t*t)+a:2/2.75>t?n*(7.5625*(t-=1.5/2.75)*t+.75)+a:2.5/2.75>t?n*(7.5625*(t-=2.25/2.75)*t+.9375)+a:n*(7.5625*(t-=2.625/2.75)*t+.984375)+a},e.easing.easeInOutBounce=e.easing.easeInOutBounce||function(t,a,n,s,l){return l/2>a?.5*e.easing.easeInBounce(t,2*a,0,s,l)+n:.5*e.easing.easeOutBounce(t,2*a-l,0,s,l)+.5*s+n}}};C._easing.call(),e.fn[h]=function(t){return _[t]?_[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):_.init.apply(this,arguments)},e[h]=function(t){return _[t]?_[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):_.init.apply(this,arguments)},e[h].defaults=I}(jQuery,window,document);